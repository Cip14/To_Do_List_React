(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{13:function(t,e,a){},14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(7),l=a.n(s),o=(a(13),a(14),a(2)),c=a(3),r=a(1),d=a(5),u=a(4),m=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={itemData:n.props.item},n.handleEdit=n.handleEdit.bind(Object(r.a)(n)),n}return Object(c.a)(a,[{key:"handleEdit",value:function(t){this.setState({itemData:{id:this.props.item.id,text:t.target.value,completed:this.props.item.completed}})}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"EditItemDiv"},i.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(){}}),i.a.createElement("input",{className:"EditItemInput",autoFocus:!0,type:"text",value:this.state.itemData.text,onChange:this.handleEdit,onKeyUp:function(e){13===e.keyCode&&t.props.saveEdit(t.state.itemData)}}),i.a.createElement("button",{className:"SaveItemButton",onClick:function(){t.props.saveEdit(t.state.itemData)}},"s"))}}]),a}(i.a.Component),h=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).state={editMode:!1},t.saveEdit=t.saveEdit.bind(Object(r.a)(t)),t.startEdit=t.startEdit.bind(Object(r.a)(t)),t}return Object(c.a)(a,[{key:"startEdit",value:function(t){this.setState({editMode:!0,text:t})}},{key:"saveEdit",value:function(t){this.setState({editMode:!1}),this.props.handleChange(t)}},{key:"render",value:function(){var t=this,e={id:this.props.item.id,text:this.props.item.text,completed:!this.props.item.completed},a=i.a.createElement("label",{className:this.props.item.completed?"completedItem":null},i.a.createElement("input",{className:"ToDoItemCheckbox",type:"checkbox",checked:this.props.item.completed,onChange:function(){t.props.handleChange(e)}}),this.props.item.text),n=i.a.createElement(m,{item:this.props.item,saveEdit:this.saveEdit}),s=i.a.createElement("button",{className:"DeleteItemButton",onClick:function(){t.props.deleteItem(t.props.item)}},"X"),l=!this.state.editMode&&i.a.createElement("button",{className:"EditItemButton",onClick:function(){t.startEdit(t.props.item.text)}},"/");return i.a.createElement("div",{className:"ToDoItem"},this.state.editMode?n:a,this.props.item.completed?s:l)}}]),a}(i.a.Component),p=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={text:"",buttonVisible:!1},n.addNew=n.addNew.bind(Object(r.a)(n)),n.handleChange=n.handleChange.bind(Object(r.a)(n)),n}return Object(c.a)(a,[{key:"handleChange",value:function(t){this.setState({text:t.target.value,buttonVisible:""!==t.target.value})}},{key:"addNew",value:function(){this.setState((function(t){return{text:"",buttonVisible:!1}})),this.props.newItem(this.state.text)}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"NewItem"},i.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(){}}),i.a.createElement("input",{className:"NewItemInput",type:"text",value:this.state.text,onChange:this.handleChange,onKeyUp:function(e){13===e.keyCode&&""!==e.target.value&&t.addNew()},onBlur:function(){""!==t.state.text&&t.addNew()}}),this.state.buttonVisible&&i.a.createElement("button",{className:"NewItemButton",onClick:this.addNew},"+"))}}]),a}(i.a.Component),v=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).state={title:"Minha Lista de tarefas",editMode:!1},t.startEdit=t.startEdit.bind(Object(r.a)(t)),t.saveEdit=t.saveEdit.bind(Object(r.a)(t)),t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("title");null!==t&&this.state.title!==t&&this.setState({title:t,editMode:!1})}},{key:"startEdit",value:function(){this.setState((function(t){return{title:t.title,editMode:!0}}))}},{key:"saveEdit",value:function(t){this.setState({title:t.text,editMode:!1}),localStorage.setItem("title",this.state.title)}},{key:"render",value:function(){return i.a.createElement("header",null,this.state.editMode?i.a.createElement("div",{style:{padding:"4ch 0ch"}},i.a.createElement(m,{item:{text:this.state.title},saveEdit:this.saveEdit})):i.a.createElement("h2",{onClick:this.startEdit},this.state.title))}}]),a}(i.a.Component);var E=function(){return i.a.createElement("footer",null)},b=function(t){Object(d.a)(a,t);var e=Object(u.a)(a);function a(){var t;if(Object(o.a)(this,a),t=e.call(this),null===JSON.parse(localStorage.getItem("list"))){localStorage.clear();localStorage.setItem("list",JSON.stringify([{id:0,text:"Escrever minha primeira tarefa",completed:!1}]))}return t.state={listData:JSON.parse(localStorage.getItem("list")),size:JSON.parse(localStorage.getItem("list")).length},t.handleChange=t.handleChange.bind(Object(r.a)(t)),t.newItem=t.newItem.bind(Object(r.a)(t)),t.deleteItem=t.deleteItem.bind(Object(r.a)(t)),t}return Object(c.a)(a,[{key:"handleChange",value:function(t){var e=this.state.listData.map((function(e,a){return e.id===t.id?{id:a,text:t.text,completed:t.completed}:{id:a,text:e.text,completed:e.completed}}));this.setState((function(t){return{listData:e,size:t.size}})),localStorage.setItem("list",JSON.stringify(e))}},{key:"newItem",value:function(t){var e={id:this.state.size,text:t,completed:!1},a=this.state.listData;a.push(e),this.setState((function(t){return{listData:a,size:t.size+1}})),localStorage.setItem("list",JSON.stringify(a))}},{key:"deleteItem",value:function(t){var e=this.state.listData;e.splice(t.id,1),this.setState((function(t){return{listData:e,size:t.size-1}})),this.handleChange({id:this.state.size+10,text:"",completed:!1})}},{key:"render",value:function(){var t=this,e=this.state.listData.map((function(e,a){return i.a.createElement("div",{key:"div"+a},i.a.createElement(h,{key:e.id,item:e,handleChange:t.handleChange,deleteItem:t.deleteItem}),i.a.createElement("hr",null))})),a=Array.apply(null,{length:11-this.state.size}).map((function(e,a){return i.a.createElement("div",{key:"div"+a},i.a.createElement(p,{key:"bl"+a,newItem:t.newItem}),i.a.createElement("hr",null))}));return i.a.createElement("div",{className:"ToDoList"},i.a.createElement(v,null),e,a,i.a.createElement(p,{key:"last",newItem:this.newItem}),i.a.createElement(E,null))}}]),a}(i.a.Component);var f=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},8:function(t,e,a){t.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.789d3b5b.chunk.js.map